{% extends 'base.html' %}
{% load static %}

{% block title %}  <title>Society Management | Society-Creation</title> {% endblock title %}

{% block body %}
    <!-- page content -->
    <div class="container">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-11 col-sm-10 col-md-11 col-lg-11 col-xl-10 text-center p-0 mb-2">
                    <div class="card px-0 pt-4 pb-0 mt-1 mb-3">
                        <h2 id="heading">Society Creation</h2>
                        <p>Fill all form field to go to next step</p>
                        <div id="msform">
                            <!-- progressbar -->
                            <ul id="progressbar" class="col-8 ms-auto me-auto" style="padding: 0 !important;">
                                <li class="active" id="account"><strong>Create Society</strong></li>
                                <li id="personal"><strong>Bank Details</strong></li>
                                <li id="payment"><strong>Documents</strong></li>
                                <li id="confirm"><strong>Create Wing / Unit</strong></li>
                            </ul>
                            <input type="text" id="unique_reg_number" value="" hidden/>
                            <!-- <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
                            </div> <br> fieldsets -->
                            <fieldset>
                                <div id="addSociety">
                                    {% verbatim %}
                                    <form enctype="multipart/form-data">
                                        <div class="row p-2">
                                            <div class="col-lg-4">
                                                <div class="mb-3 w-100 sty-input-wrapper">
                                                    <input class="w-100 sty-inp" type="text" v-model="formData.society_name" :style="{ borderColor: errors.society_name ? 'red' : '' }">
                                                    <label class="sty-label">Society Name</label>
                                                    <span v-if="errors.society_name" class="error">{{ errors.society_name[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="mb-3 w-100 sty-input-wrapper">
                                                    <input class="w-100 sty-inp" type="text" v-model="formData.admin_email" :style="{ borderColor: errors.admin_email ? 'red' : '' }">
                                                    <label class="sty-label"> Administrator Email
                                                    </label>
                                                    <span v-if="errors.admin_email" class="error">{{ errors.admin_email[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="mb-3 w-100 sty-input-wrapper">
                                                     <input class="w-100 sty-inp" type="text" v-model="formData.alternate_email" :style="{ borderColor: errors.alternate_email ? 'red' : '' }">
                                                    <label class="sty-label">Alternate Email</label>
                                                    <span v-if="errors.alternate_email" class="error">{{ errors.alternate_email[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="mb-2">
                                                    <div class="input-group">
                                                        <div class="firstinp w-50 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="number" id="id_registration_number" v-model="formData.registration_number" :style="{ borderColor: errors.registration_number ? 'red' : '' }">
                                                            <label for="id_registration_number" class="sty-label">Registration Number</label>
                                                            <span v-if="errors.registration_number" class="error">{{ errors.registration_number[0] }}</span>
                                                            <span v-else></span>
                                                        </div>
                                                        <div class="secinp w-50 d-flex">
                                                                <div class="fileinp">
                                                                    <input type="file" class="sty-inp form-control" style="color: #2b96f1 !important;" ref="registration_doc" :style="{ borderColor: errors.registration_doc ? 'red' : '' }" />
                                                                    <span v-if="errors.registration_doc" class="error">{{ errors.registration_doc[0] }}</span>
                                                                    <span v-else></span>
                                                                </div>
                                                                <div class="prev">
                                                                    <button type="button" class="sty-inp form-control"
                                                                        onclick="PreviewImage('id_registration_doc')">
                                                                        <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                                    </button>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="mb-3 sty-input-wrapper w-100">

                                                    <input class="w-100 sty-inp" type="number" v-model="formData.admin_mobile_number" :style="{ borderColor: errors.admin_mobile_number ? 'red' : '' }">
                                                    <label class="sty-label">Administrator Mobile Number</label>
                                                    <span v-if="errors.admin_mobile_number" class="error">{{ errors.admin_mobile_number[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>

                                            <div class="col-lg-8">
                                                <div class="mb-2">
                                                    <div class="input-group">
                                                        <div class="firstinp w-50 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="number" v-model="formData.pan_number" :style="{ borderColor: errors.pan_number ? 'red' : '' }">
                                                            <label class="sty-label">PAN Number</label>
                                                            <span v-if="errors.pan_number" class="error">{{ errors.pan_number[0] }}</span>
                                                            <span v-else></span>
                                                        </div>
                                                        <div class="secinp w-50 d-flex">
                                                                <div class="fileinp">
                                                                    <input type="file" class="sty-inp form-control" style="color: #2b96f1 !important;" ref="pan_number_doc" :style="{ borderColor: errors.pan_number_doc ? 'red' : '' }" />
                                                                    <span v-if="errors.pan_number_doc" class="error">{{ errors.pan_number_doc[0] }}</span>
                                                                    <span v-else></span>
                                                                </div>
                                                                <div class="prev">
                                                                    <button type="button" class="sty-inp form-control"
                                                                        onclick="PreviewImage('id_pan_number_doc')">
                                                                        <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                                    </button>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="mb-3 w-100 sty-input-wrapper">
                                                    <input class="sty-inp w-100" type="number" v-model="formData.alternate_mobile_number" :style="{ borderColor: errors.alternate_mobile_number ? 'red' : '' }">
                                                    <label class="sty-label">Alternate Mobile Number</label>
                                                    <span v-if="errors.alternate_mobile_number" class="error">{{ errors.alternate_mobile_number[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="mb-2">
                                                    <div class="input-group">
                                                        <div class="firstinp w-50 sty-input-wrapper">
                                                            <input class="form-control sty-inp" type="number" v-model="formData.gst_number" :style="{ borderColor: errors.gst_number ? 'red' : '' }" />
                                                            <label class="form-label sty-label">GST Number</label>
                                                            <span v-if="errors.gst_number" class="error">{{ errors.gst_number[0] }}</span>
                                                            <span v-else></span>
                                                        </div>
                                                        <div class="secinp w-50 d-flex">
                                                                <div class="fileinp">
                                                                    <input type="file" class="form-control sty-inp" style="color: #2b96f1 !important;" ref="gst_number_doc" :style="{ borderColor: errors.gst_number_doc ? 'red' : '' }" />
                                                                    <span v-if="errors.gst_number_doc" class="error">{{ errors.gst_number_doc[0] }}</span>
                                                                    <span v-else></span>
                                                                </div>
                                                                <div class="prev">
                                                                    <button type="button" class="form-control sty-inp"
                                                                        onclick="PreviewImage('id_gst_number_doc')">
                                                                        <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                                    </button>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="col-lg-4">
                                                <div class="mb-3 w-100 sty-input-wrapper">
                                                    <input class="w-100 sty-inp" type="number" v-model="formData.interest" :style="{ borderColor: errors.interest ? 'red' : '' }" />
                                                    <label class="sty-label">Interest</label>
                                                    <span v-if="errors.interest" class="error">{{ errors.interest[0] }}</span>
                                                    <span v-else></span>
                                                </div>
                                            </div>

                                            <div class="col-lg-12 mb-3">
                                                <div class="row">
                                                    <div class="col-lg-6  sty-input-wrapper">
                                                        <textarea v-model="formData.society_reg_address" class="w-100 sty-inp" cols="30" rows="1" :style="{ borderColor: errors.society_reg_address ? 'red' : '' }"></textarea>
                                                        <label class="sty-label">Society's Registered Address</label>
                                                        <span v-if="errors.society_reg_address" class="error">{{ errors.society_reg_address[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <select class="w-100 sty-inp form-control" v-model="formData.society_city" :style="{ borderColor: errors.society_city ? 'red' : '' }">
                                                            <option value="#">Select State</option>
                                                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                            <option value="Assam">Assam</option>
                                                            <option value="Bihar">Bihar</option>
                                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                                            <option value="Goa">Goa</option>
                                                            <option value="Gujarat">Gujarat</option>
                                                            <option value="Haryana">Haryana</option>
                                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                            <option value="Jharkhand">Jharkhand</option>
                                                            <option value="Karnataka">Karnataka</option>
                                                            <option value="Kerala">Kerala</option>
                                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                            <option value="Maharashtra">Maharashtra</option>
                                                            <option value="Manipur">Manipur</option>
                                                            <option value="Meghalaya">Meghalaya</option>
                                                            <option value="Mizoram">Mizoram</option>
                                                            <option value="Nagaland">Nagaland</option>
                                                            <option value="Odisha">Odisha</option>
                                                            <option value="Punjab">Punjab</option>
                                                            <option value="Rajasthan">Rajasthan</option>
                                                            <option value="Sikkim">Sikkim</option>
                                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                                            <option value="Telangana">Telangana</option>
                                                            <option value="Tripura">Tripura</option>
                                                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                            <option value="Uttarakhand">Uttarakhand</option>
                                                            <option value="West Bengal">West Bengal</option>
                                                            <option value="Andaman and Nicobar ">Andaman and Nicobar </option>
                                                            <option value="Islands">Islands</option>
                                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                                            <option value="Daman and Diu">Daman and Diu</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Ladakh">Ladakh</option>
                                                            <option value="Lakshadweep">Lakshadweep</option>
                                                            <option value="Puducherry">Puducherry</option>
                                                        </select>
                                                        <label class="sty-label">State</label>
                                                        <span v-if="errors.society_city" class="error">{{ errors.society_city[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <select class="w-100 sty-inp form-control" v-model="formData.socity_state" :style="{ borderColor: errors.socity_state ? 'red' : '' }">
                                                            <option value="#">Select State</option>
                                                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                            <option value="Assam">Assam</option>
                                                            <option value="Bihar">Bihar</option>
                                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                                            <option value="Goa">Goa</option>
                                                            <option value="Gujarat">Gujarat</option>
                                                            <option value="Haryana">Haryana</option>
                                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                            <option value="Jharkhand">Jharkhand</option>
                                                            <option value="Karnataka">Karnataka</option>
                                                            <option value="Kerala">Kerala</option>
                                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                            <option value="Maharashtra">Maharashtra</option>
                                                            <option value="Manipur">Manipur</option>
                                                            <option value="Meghalaya">Meghalaya</option>
                                                            <option value="Mizoram">Mizoram</option>
                                                            <option value="Nagaland">Nagaland</option>
                                                            <option value="Odisha">Odisha</option>
                                                            <option value="Punjab">Punjab</option>
                                                            <option value="Rajasthan">Rajasthan</option>
                                                            <option value="Sikkim">Sikkim</option>
                                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                                            <option value="Telangana">Telangana</option>
                                                            <option value="Tripura">Tripura</option>
                                                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                            <option value="Uttarakhand">Uttarakhand</option>
                                                            <option value="West Bengal">West Bengal</option>
                                                            <option value="Andaman and Nicobar ">Andaman and Nicobar </option>
                                                            <option value="Islands">Islands</option>
                                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                                            <option value="Daman and Diu">Daman and Diu</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Ladakh">Ladakh</option>
                                                            <option value="Lakshadweep">Lakshadweep</option>
                                                            <option value="Puducherry">Puducherry</option>
                                                        </select>
                                                        <label class="sty-label">City</label>
                                                        <span v-if="errors.socity_state" class="error">{{ errors.socity_state[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <input type="number" class="w-100 sty-inp" v-model="formData.pin_code" :style="{ borderColor: errors.pin_code ? 'red' : '' }">
                                                        <label class="sty-label">Pin Code</label>
                                                        <span v-if="errors.pin_code" class="error">{{ errors.pin_code[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 mb-2">
                                                <div class="row">
                                                    <div class="col-lg-6 sty-input-wrapper">
                                                        <textarea v-model="formData.society_corr_reg_address" class="w-100 sty-inp" cols="30" rows="1"></textarea>
                                                        <label class="sty-label">Society's Correspondence Address</label>
                                                        <span v-if="errors.society_corr_reg_address" class="error">{{ errors.society_corr_reg_address[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <select class="w-100 sty-inp form-control" v-model="formData.society_corr_city" :style="{ borderColor: errors.society_corr_city ? 'red' : '' }">
                                                            <option value="#">Select State</option>
                                                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                            <option value="Assam">Assam</option>
                                                            <option value="Bihar">Bihar</option>
                                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                                            <option value="Goa">Goa</option>
                                                            <option value="Gujarat">Gujarat</option>
                                                            <option value="Haryana">Haryana</option>
                                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                            <option value="Jharkhand">Jharkhand</option>
                                                            <option value="Karnataka">Karnataka</option>
                                                            <option value="Kerala">Kerala</option>
                                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                            <option value="Maharashtra">Maharashtra</option>
                                                            <option value="Manipur">Manipur</option>
                                                            <option value="Meghalaya">Meghalaya</option>
                                                            <option value="Mizoram">Mizoram</option>
                                                            <option value="Nagaland">Nagaland</option>
                                                            <option value="Odisha">Odisha</option>
                                                            <option value="Punjab">Punjab</option>
                                                            <option value="Rajasthan">Rajasthan</option>
                                                            <option value="Sikkim">Sikkim</option>
                                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                                            <option value="Telangana">Telangana</option>
                                                            <option value="Tripura">Tripura</option>
                                                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                            <option value="Uttarakhand">Uttarakhand</option>
                                                            <option value="West Bengal">West Bengal</option>
                                                            <option value="Andaman and Nicobar ">Andaman and Nicobar </option>
                                                            <option value="Islands">Islands</option>
                                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                                            <option value="Daman and Diu">Daman and Diu</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Ladakh">Ladakh</option>
                                                            <option value="Lakshadweep">Lakshadweep</option>
                                                            <option value="Puducherry">Puducherry</option>
                                                        </select>
                                                        <label for="id_socity_corr_state" class="sty-label">State</label>
                                                        <span v-if="errors.society_corr_city" class="error">{{ errors.society_corr_city[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <select class="w-100 sty-inp form-control" v-model="formData.socity_corr_state" :style="{ borderColor: errors.socity_corr_state ? 'red' : '' }">
                                                            <option value="#">Select State</option>
                                                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                            <option value="Assam">Assam</option>
                                                            <option value="Bihar">Bihar</option>
                                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                                            <option value="Goa">Goa</option>
                                                            <option value="Gujarat">Gujarat</option>
                                                            <option value="Haryana">Haryana</option>
                                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                            <option value="Jharkhand">Jharkhand</option>
                                                            <option value="Karnataka">Karnataka</option>
                                                            <option value="Kerala">Kerala</option>
                                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                            <option value="Maharashtra">Maharashtra</option>
                                                            <option value="Manipur">Manipur</option>
                                                            <option value="Meghalaya">Meghalaya</option>
                                                            <option value="Mizoram">Mizoram</option>
                                                            <option value="Nagaland">Nagaland</option>
                                                            <option value="Odisha">Odisha</option>
                                                            <option value="Punjab">Punjab</option>
                                                            <option value="Rajasthan">Rajasthan</option>
                                                            <option value="Sikkim">Sikkim</option>
                                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                                            <option value="Telangana">Telangana</option>
                                                            <option value="Tripura">Tripura</option>
                                                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                            <option value="Uttarakhand">Uttarakhand</option>
                                                            <option value="West Bengal">West Bengal</option>
                                                            <option value="Andaman and Nicobar ">Andaman and Nicobar </option>
                                                            <option value="Islands">Islands</option>
                                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                                            <option value="Daman and Diu">Daman and Diu</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Ladakh">Ladakh</option>
                                                            <option value="Lakshadweep">Lakshadweep</option>
                                                            <option value="Puducherry">Puducherry</option>
                                                        </select>
                                                        <label for="id_society_corr_city" class="sty-label">City</label>
                                                        <span v-if="errors.socity_corr_state" class="error">{{ errors.socity_corr_state[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="col-lg-2 sty-input-wrapper">
                                                        <input type="number" class="w-100 sty-inp" v-model="formData.pin_corr_code" :style="{ borderColor: errors.pin_corr_code ? 'red' : '' }">
                                                        <label for="id_pin_corr_code" class="sty-label">Pin Code</label>
                                                        <span v-if="errors.pin_corr_code" class="error">{{ errors.pin_corr_code[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input type="button" name="next" class="action-button" value="Save" @click="addSocietyForm" />
                                    </form>
                                    {% endverbatim %}
                                    {% comment %} <input type="submit" value="Save & Next" /> {% endcomment %}
                                </div>
                                <p id="nextBtn"></p>
                                <hr>
                            </fieldset>
                            <fieldset>
                                <div id="bankContainer">
                                    {% verbatim %}
                                        <form enctype="multipart/form-data">
                                            <div v-for="(form, index) in forms" :key="index">
                                                <h3>Form {{ getFormNumber(index) }}</h3>

                                                <div class="row p-2 mt-2">
                                                    <div class="col-lg-4 mb-3">
                                                        <div class="mb-2 w-100 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="text" v-model="form.beneficiary_name">
                                                            <label class="sty-label">Beneficiary Name</label>
                                                            <span class="error" v-if="hasError(index, 'beneficiary_name')">{{ getError(index, 'beneficiary_name') }}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mb-3">
                                                        <div class="mb-2 w-100 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="text" v-model="form.beneficiary_code">
                                                            <label class="sty-label">Beneficiary IFSC Code</label>
                                                            <span class="error" v-if="hasError(index, 'beneficiary_code')">{{ getError(index, 'beneficiary_code') }}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mb-3">
                                                        <div class="mb-2 w-100 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="number" v-model="form.beneficiary_acc_number">
                                                            <label class="sty-label">Beneficiary Account Number</label>
                                                            <span class="error" v-if="hasError(index, 'beneficiary_acc_number')">{{ getError(index, 'beneficiary_acc_number') }}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mb-3">
                                                        <div class="mb-2 w-100 sty-input-wrapper">
                                                            <input class="w-100 sty-inp" type="text" v-model="form.beneficiary_bank">
                                                            <label class="sty-label">Beneficiary Bank Name & Branch</label>
                                                            <span class="error" v-if="hasError(index, 'beneficiary_bank')">{{ getError(index, 'beneficiary_bank') }}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mb-4 gap-3 align-items-center">
                                                        <input type="checkbox" class="sty-inp" v-model="form.is_primary"/>
                                                        <label>Make this Primary</label>
                                                        <span class="error" v-if="hasError(index, 'is_primary')">{{ getError(index, 'is_primary') }}</span>
                                                        <span class="error" v-if="singlePrimaryError">{{ singlePrimaryError }}</span>
                                                    </div>
                                                    <div class="col-lg-4 mb-4 gap-3 align-items-center">
                                                        <span @click.prevent="removeForm(index)"><i class="fa-solid fa-trash-can"></i></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <span @click.prevent="addForm" class="add-mem-btn float-start">Add Form</span>
                                            <input type="button" class="add-mem-btn" @click="submitBank" value="Submit All Forms">
                                            <hr>
                                        </form>
                                    {% endverbatim %}
                                </div>
                                <p id="nextBtn2"></p>
                            </fieldset>
                            <fieldset>
                                <div id="societyDocumentsVue">
                                    {% verbatim %}
                                        <form enctype="multipart/form-data">
                                            <div class="row p-2 mt-2">
                                                <div class="col-lg-4 mb-3 d-flex">

                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="file" class="w-100 sty-inp form-control" ref="completion_cert" @change="handleFileUpload($event, 'completion_cert')">
                                                        <label for="" class="sty-label">Completion Certificate</label>
                                                        <span v-if="required_docs_errors.completion_cert" class="error">{{ required_docs_errors.completion_cert[0] }}</span>
                                                        <span v-else></span>
                                                    </div>
                                                    <div class="prev">
                                                        <button type="button" class="sty-inp form-control"
                                                            onclick="PreviewImage('compDoc')">
                                                            <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 mb-3 d-flex">
                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="file" class="w-100 sty-inp form-control" ref="occupancy_cert" @change="handleFileUpload($event, 'occupancy_cert')">
                                                        <label for="" class="sty-label">Occupancy Certificate</label>
                                                        <span v-if="required_docs_errors.occupancy_cert" class="error">{{ required_docs_errors.occupancy_cert[0] }}</span>
                                                    </div>
                                                    <div class="prev">
                                                        <button type="button" class="sty-inp form-control"
                                                            onclick="PreviewImage('id_occupancy_cert')">
                                                            <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 mb-3 d-flex">
                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="file" class="w-100 sty-inp form-control" ref="deed_of_conveyance" @change="handleFileUpload($event, 'deed_of_conveyance')">
                                                        <label for="" class="sty-label">Deed of Conveyance</label>
                                                        <span v-if="required_docs_errors.deed_of_conveyance" class="error">{{ required_docs_errors.deed_of_conveyance[0] }}</span>
                                                    </div>
                                                    <div class="prev">
                                                        <button type="button" class="sty-inp form-control"
                                                            onclick="PreviewImage('id_deed_of_conveyance')">
                                                            <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 mb-3 d-flex">
                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="file" class="w-100 sty-inp form-control" ref="society_by_law" @change="handleFileUpload($event, 'society_by_law')">
                                                        <label for="" class="sty-label">Society Bye Laws</label>
                                                        <span v-if="required_docs_errors.society_by_law" class="error">{{ required_docs_errors.society_by_law[0] }}</span>
                                                    </div>
                                                    <div class="prev">
                                                        <button type="button" class="sty-inp form-control"
                                                            onclick="PreviewImage('id_society_by_law')">
                                                            <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 mb-3 d-flex">

                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="file" class="w-100 sty-inp form-control" ref="soc_other_document" @change="handleFileUpload($event, 'soc_other_document')">
                                                        <label for="" class="sty-label">Other Documents</label>
                                                        <span v-if="required_docs_errors.soc_other_document" class="error">{{ required_docs_errors.soc_other_document[0] }}</span>
                                                    </div>
                                                    <div class="w-100 sty-input-wrapper">
                                                        <input type="text" class="w-100 sty-inp" v-model="formData.soc_other_document_spec" @change="handleFileUpload($event, 'soc_other_document_spec')" />
                                                        <label for="" class="sty-label">Specify your Document</label>
                                                        <span v-if="required_docs_errors.soc_other_document_spec" class="error">{{ required_docs_errors.soc_other_document_spec[0] }}</span>
                                                    </div>
                                                    <div class="prev">
                                                        <button type="button" class="sty-inp form-control"
                                                            onclick="PreviewImage('otherDoc')">
                                                            <i class="fa-solid fa-eye" style="color: #2b96f1 !important;"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>

                                        <form v-if="showForm" enctype="multipart/form-data">
                                            <div v-for="(form, index) in forms" :key="index">
                                                <h3>Form {{ getFormNumber(index) }}</h3>

                                                <div class="row p-2 mt-2">
                                                    <div class="d-flex isVisible">
                                                        <div class="sty-input-wrapper">
                                                            <input type="file" class="sty-inp form-control" :ref="'other_document_' + index">
                                                            <label class="sty-label">Other Document</label>
                                                            <p v-if="required_docs_errors[index] && required_docs_errors[index]['other_document']">{{ required_docs_errors[index]['other_document'][0] }}</p>
                                                        </div>
                                                        <div class="sty-input-wrapper">
                                                            <input type="text" class="sty-inp form-control" v-model="form.other_document_specification" />
                                                            <label class="sty-label">Specify your Document</label>
                                                            <p v-if="required_docs_errors[index] && required_docs_errors[index]['other_document_specification']">{{ required_docs_errors[index]['other_document_specification'][0] }}</p>
                                                    </div>
                                                        <button class="sty-inp mb-4" style="background: transparent;">
                                                            <svg class="svg-inline--fa fa-eye" style="color: #2b96f1 !important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="eye" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg="">
                                                                <path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path>
                                                            </svg>
                                                        </button>
                                                        <button class="sty-inp mb-4 ms-2" style="background: transparent;">
                                                            <svg class="svg-inline--fa fa-trash-can" style="color: red !important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash-can" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                                                                <path fill="currentColor" d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"></path>
                                                            </svg>
                                                        </button>
                                                        <div class="col-lg-4 mb-4 gap-3 align-items-center">
                                                            <span @click.prevent="removeForm(index)"><i class="fa-solid fa-trash-can"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <hr>
                                        </form>

                                        <input type="button" class="add-mem-btn" @click="submitBothDocs" value="Submit All Forms">
                                        <span @click.prevent="addForm" class="add-mem-btn float-start" @click="showFormMethod">Add Form</span>
                                    {% endverbatim %}
                                </div>
                                <p id="nextBtn3"></p>
                            </fieldset>
                            <fieldset>
                                <div class="row">
                                    <div class="wing-info" style="text-align: left;">
                                        <p style="color: #616161;">As a first Step to set up your Complex, create blocks of your Apartment Complex below
                                            .PLease Note: <br></p>
                                        <ul style="list-style:none;" id="blockList">
                                            <li>
                                                Blocks are also referred as Towers / Buildings in some apartment Complexes.
                                            </li>
                                            <li>
                                                Even incase your complex does not have blocks, you need to create atleast one block
                                                (you can call the block "Flat").
                                            </li>
                                            <li class="more-content">
                                                Do note that each block name must be different and should be less than 30 characters
                                                in length.
                                            </li>
                                            <li class="more-content">
                                                If you have multiple wings in each tower - create one block per tower-wing
                                                combination. <br> For example: Tower 1 - A wing, Tower 1 - B wing, etc...
                                            </li>
                                            <li class="more-content">
                                                You can always add more blocks here.
                                            </li>
                                            <span class="more" onclick="showMore()">Show More</span>
                                            <span class="less" onclick="showLess()">Show Less</span>
                                        </ul>
                                    </div>
                                    <script>
                                        // $(".more").toggle(function(){
                                        //     $(this).text("less..").siblings(".complete").show();
                                        // }, function(){
                                        //     $(this).text("more..").siblings(".complete").hide();
                                        // });

                                        function showMore() {
                                            $('.more-content').slideDown('slow');
                                            $('.more').hide();
                                            $('.less').show();
                                        }

                                        function showLess() {
                                            $('.more-content').slideUp('slow');
                                            $('.less').hide();
                                            $('.more').show();
                                        }
                                    </script>

                                    <div id="wingCreation">
                                        {% verbatim %}
                                        <form enctype="multipart/form-data">
                                            <div v-for="(form, index) in forms" :key="index">
                                                <p>Form {{ getFormNumber(index) }}</p>

                                                <div class="row mb-3" id="wingContent1">
                                                    <div class="col-lg-3 sty-input-wrapper">
                                                        <input class="w-100 sty-inp" type="text" v-model="form.wing_name">
                                                        <label for="" class="sty-label">Enter your Wing Name</label>
                                                    </div>
                                                    <div class="col-lg-5 sty-input-wrapper">
                                                        <textarea class="w-100 sty-inp" cols="30" rows="1" v-model="form.flat_number"></textarea>
                                                        <label for="" class="sty-label">Enter your Flat Numbers</label>
                                                    </div>
                                                    <div class="col-lg-4 mb-4 gap-3 align-items-center">
                                                        <span @click.prevent="removeForm(index)"><i class="fa-solid fa-trash-can"></i></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <span @click.prevent="addForm" class="add-mem-btn float-start">Add Form</span>
                                            <input type="button" class="add-mem-btn" @click="submitWingFlat" value="Submit All Forms">
                                            <hr>
                                        </form>
                                    {% endverbatim %}
                                    </div>

                                    {% comment %} <div id="wingContainer">
                                        <form id="wingFlatForm" enctype="multipart/form-data">
                                            {% csrf_token %}
                                            <div class="row mb-3" id="wingContent1">
                                                <div class="col-lg-3 sty-input-wrapper">
                                                    <input class="w-100 sty-inp" type="text" name="wingName" id="wingName0" placeholder="">
                                                    <label for="" class="sty-label">Enter your Wing Name</label>
                                                    <small id="wingName0_Error" class="error-message"></small>
                                                </div>
                                                <div class="col-lg-5 sty-input-wrapper">
                                                    <textarea class="w-100 sty-inp" name="unitName" id="unitName0" cols="30" rows="1" placeholder=""></textarea>
                                                    <label for="" class="sty-label">Enter your Flat Numbers</label>
                                                    <small id="unitName0_Error" class="error-message"></small>
                                                </div>
                                            </div>
                                        </form>
                                    </div>

                                    <div id="newWingContainer"></div>
                                </div>
                                <hr>
                                <div class="twoBtn float-start">
                                    <button type="button" class="add-mem-btn" onclick="addWing()">
                                        Add Another Wing
                                    </button>
                                    <!-- <button type="submit" class="sbmt-button  ms-2" >Submit</button> -->
                                </div>
                                <!-- <input type="button" id="wingSubmit" name="" class="action-button" value="SAVE====" /> -->
                                <input type="button" id="wingSubmit" name="next" class=" action-button" value="Submit" /> <input type="button" name="previous" class="previous action-button-previous" value="Previous" /> {% endcomment %}
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% comment %} <div id="model_field_names">{{ model_field_names }}</div> {% endcomment %}
    </div>
{% endblock body %}